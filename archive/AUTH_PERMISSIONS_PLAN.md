# ×ª×›× ×™×ª ×”×¨×©××•×ª ×•××™××•×ª ××©×ª××©×™× - ABcon
## Authentication & User Permissions Plan

---

## ×ª×•×›×Ÿ ×¢× ×™×™× ×™× | Table of Contents

1. [×¡×§×™×¨×ª ×¡×•×’×™ ××©×ª××©×™× | User Types Overview](#1-×¡×•×’×™-××©×ª××©×™×--user-types)
2. [××˜×¨×™×¦×ª ×”×¨×©××•×ª | Permissions Matrix](#2-××˜×¨×™×¦×ª-×”×¨×©××•×ª--permissions-matrix)
3. [×›×œ×œ×™× ×¢×¡×§×™×™× | Business Rules](#3-×›×œ×œ×™×-×¢×¡×§×™×™×--business-rules)
4. [××” ×§×™×™× | Current Implementation Status](#4-××¦×‘-× ×•×›×—×™--current-status)
5. [×ª×›× ×™×ª ×™×™×©×•× | Implementation Plan](#5-×ª×›× ×™×ª-×™×™×©×•×--implementation-plan)
6. [××¤×ª ×“×¨×›×™× | Roadmap](#6-××¤×ª-×“×¨×›×™×--roadmap)

---

## 1. ×¡×•×’×™ ××©×ª××©×™× | User Types

### ×˜×‘×œ×ª ×ª×¤×§×™×“×™× | Role Definitions

| ×§×•×“ | ×©× ×‘×¢×‘×¨×™×ª | English Name | ×¨××ª ×’×™×©×” | ×ª×™××•×¨ |
|-----|-----------|--------------|----------|-------|
| `admin` | ×× ×”×œ ×¨××©×™ | Administrator | **××œ××”** | ×’×™×©×” ××œ××” ×œ×›×œ ×”××¢×¨×›×ª, × ×™×”×•×œ ××©×ª××©×™×, ×›×œ ×”×¤×¨×•×™×§×˜×™× |
| `project_manager` | ×× ×”×œ ×¤×¨×•×™×§×˜ | Project Manager | **×¤×¨×•×™×§×˜×™× ××©×•×™×›×™×** | ×¢×¨×™×›×” ××œ××” ×©×œ ×¤×¨×•×™×§×˜×™× ××©×•×™×›×™× ×‘×œ×‘×“ |
| `entrepreneur` | ×™×–× | Entrepreneur | **×§×¨×™××” ×‘×œ×‘×“** | ×¦×¤×™×™×” ×‘×¤×¨×•×™×§×˜×™× ××©×•×™×›×™× ×‘×œ×‘×“ |
| `accountant` | ×¨×•××” ×—×©×‘×•×Ÿ | Accountant | **×§×¨×™××” - ×›×œ ×”×¤×¨×•×™×§×˜×™×** | ×¦×¤×™×™×” ×‘×›×œ ×”×ª×§×¦×™×‘×™×, ×œ×œ× ×¢×¨×™×›×” |

### ×”×™×¨×¨×›×™×™×ª ×”×¨×©××•×ª | Permission Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ADMIN                                â”‚
â”‚   â€¢ ×›×œ ×”×¤×¨×•×™×§×˜×™× â€¢ ×›×œ ×”×¤×¢×•×œ×•×ª â€¢ × ×™×”×•×œ ××©×ª××©×™× â€¢ ××—×™×§×”        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    PROJECT MANAGER                           â”‚
â”‚   â€¢ ×¤×¨×•×™×§×˜×™× ××©×•×™×›×™× â€¢ ×™×¦×™×¨×”/×¢×¨×™×›×” â€¢ ×œ×œ× ××—×™×§×”               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        ENTREPRENEUR              â”‚        ACCOUNTANT         â”‚
â”‚   â€¢ ×¤×¨×•×™×§×˜×™× ××©×•×™×›×™×            â”‚   â€¢ ×›×œ ×”×¤×¨×•×™×§×˜×™×          â”‚
â”‚   â€¢ ×¦×¤×™×™×” ×‘×œ×‘×“                  â”‚   â€¢ ×¦×¤×™×™×” ×‘×œ×‘×“ (×ª×§×¦×™×‘×™×)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ××˜×¨×™×¦×ª ×”×¨×©××•×ª | Permissions Matrix

### ×¤×¨×•×™×§×˜×™× | Projects

| ×¤×¢×•×œ×” | Admin | PM (××©×•×™×š) | ×™×–× (××©×•×™×š) | ×¨×•"×— |
|-------|:-----:|:----------:|:-----------:|:----:|
| ×¦×¤×™×™×” ×‘×›×œ ×”×¤×¨×•×™×§×˜×™× | âœ… | âŒ | âŒ | âœ… |
| ×¦×¤×™×™×” ×‘×¤×¨×•×™×§×˜×™× ××©×•×™×›×™× | âœ… | âœ… | âœ… | âœ… |
| ×™×¦×™×¨×ª ×¤×¨×•×™×§×˜ | âœ… | âœ… | âŒ | âŒ |
| ×¢×¨×™×›×ª ×¤×¨×•×™×§×˜ | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |
| ××—×™×§×ª ×¤×¨×•×™×§×˜ | âœ… | âŒ | âŒ | âŒ |
| ×©×™×•×š ××©×ª××©×™× ×œ×¤×¨×•×™×§×˜ | âœ… | âŒ | âŒ | âŒ |

### ××©×™××•×ª | Tasks

| ×¤×¢×•×œ×” | Admin | PM (××©×•×™×š) | ×™×–× (××©×•×™×š) | ×¨×•"×— |
|-------|:-----:|:----------:|:-----------:|:----:|
| ×¦×¤×™×™×” ×‘××©×™××•×ª | âœ… | âœ… | âœ… | âœ… |
| ×™×¦×™×¨×ª ××©×™××” | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |
| ×¢×¨×™×›×ª ××©×™××” | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |
| ××—×™×§×ª ××©×™××” | âœ… | âŒ | âŒ | âŒ |
| ×©×™× ×•×™ ×¡×˜×˜×•×¡ ××©×™××” | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |

### ××›×¨×–×™× | Tenders

| ×¤×¢×•×œ×” | Admin | PM (××©×•×™×š) | ×™×–× (××©×•×™×š) | ×¨×•"×— |
|-------|:-----:|:----------:|:-----------:|:----:|
| ×¦×¤×™×™×” ×‘××›×¨×–×™× | âœ… | âœ… | âœ… | âœ… |
| ×™×¦×™×¨×ª ××›×¨×– | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |
| ×¢×¨×™×›×ª ××›×¨×– | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |
| ××—×™×§×ª ××›×¨×– | âœ… | âŒ | âŒ | âŒ |
| ×”×•×¡×¤×ª ×”×¦×¢×•×ª ××—×™×¨ | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |
| ×‘×—×™×¨×ª ×–×•×›×” | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |

### ×ª×§×¦×™×‘ | Budget

| ×¤×¢×•×œ×” | Admin | PM (××©×•×™×š) | ×™×–× (××©×•×™×š) | ×¨×•"×— |
|-------|:-----:|:----------:|:-----------:|:----:|
| ×¦×¤×™×™×” ×‘×ª×§×¦×™×‘ | âœ… | âœ… | âœ… | âœ… |
| ×¢×¨×™×›×ª ×ª×§×¦×™×‘ | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |
| ×¦×¤×™×™×” ×‘×›×œ ×”×ª×§×¦×™×‘×™× | âœ… | âŒ | âŒ | âœ… |
| ×™×™×¦×•× ×“×•×—×•×ª | âœ… | âœ… (××©×•×™×š) | âŒ | âœ… |

### ×‘×¢×œ×™ ××§×¦×•×¢ | Professionals

| ×¤×¢×•×œ×” | Admin | PM (××©×•×™×š) | ×™×–× (××©×•×™×š) | ×¨×•"×— |
|-------|:-----:|:----------:|:-----------:|:----:|
| ×¦×¤×™×™×” ×‘×¨×©×™××” | âœ… | âœ… | âœ… | âœ… |
| ×™×¦×™×¨×ª ×‘×¢×œ ××§×¦×•×¢ | âœ… | âœ… | âŒ | âŒ |
| ×¢×¨×™×›×ª ×‘×¢×œ ××§×¦×•×¢ | âœ… | âœ… | âŒ | âŒ |
| ××—×™×§×ª ×‘×¢×œ ××§×¦×•×¢ | âœ… | âŒ | âŒ | âŒ |
| ×“×™×¨×•×’ ×‘×¢×œ ××§×¦×•×¢ | âœ… | âœ… | âœ… | âŒ |

### ×§×‘×¦×™× | Files

| ×¤×¢×•×œ×” | Admin | PM (××©×•×™×š) | ×™×–× (××©×•×™×š) | ×¨×•"×— |
|-------|:-----:|:----------:|:-----------:|:----:|
| ×¦×¤×™×™×” ×‘×§×‘×¦×™× | âœ… | âœ… | âœ… | âœ… |
| ×”×¢×œ××ª ×§×•×‘×¥ | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |
| ×”×•×¨×“×ª ×§×•×‘×¥ | âœ… | âœ… | âœ… | âœ… |
| ××—×™×§×ª ×§×•×‘×¥ | âœ… | âŒ | âŒ | âŒ |

### ×©×™× ×•×™×™ ×ª×›× ×•×Ÿ | Planning Changes

| ×¤×¢×•×œ×” | Admin | PM (××©×•×™×š) | ×™×–× (××©×•×™×š) | ×¨×•"×— |
|-------|:-----:|:----------:|:-----------:|:----:|
| ×¦×¤×™×™×” | âœ… | âœ… | âŒ | âŒ |
| ×™×¦×™×¨×” | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |
| ×¢×¨×™×›×” | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |
| ××—×™×§×” | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |

### × ×•×©××™× ××™×•×—×“×™× | Special Issues

| ×¤×¢×•×œ×” | Admin | PM (××©×•×™×š) | ×™×–× (××©×•×™×š) | ×¨×•"×— |
|-------|:-----:|:----------:|:-----------:|:----:|
| ×¦×¤×™×™×” | âœ… | âœ… | âŒ | âŒ |
| ×™×¦×™×¨×” | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |
| ×¢×¨×™×›×” | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |
| ××—×™×§×” | âœ… | âœ… (××©×•×™×š) | âŒ | âŒ |

### × ×™×”×•×œ ××©×ª××©×™× | User Management

| ×¤×¢×•×œ×” | Admin | PM | ×™×–× | ×¨×•"×— |
|-------|:-----:|:--:|:---:|:----:|
| ×¦×¤×™×™×” ×‘×¨×©×™××ª ××©×ª××©×™× | âœ… | âŒ | âŒ | âŒ |
| ×™×¦×™×¨×ª ××©×ª××© | âœ… | âŒ | âŒ | âŒ |
| ×¢×¨×™×›×ª ××©×ª××© | âœ… | âŒ | âŒ | âŒ |
| ××—×™×§×ª/×”×©×‘×ª×ª ××©×ª××© | âœ… | âŒ | âŒ | âŒ |
| ×©×™×•×š ×œ×¤×¨×•×™×§×˜ | âœ… | âŒ | âŒ | âŒ |
| ××™×¤×•×¡ ×¡×™×¡××” | âœ… | âŒ | âŒ | âŒ |

---

## 3. ×›×œ×œ×™× ×¢×¡×§×™×™× | Business Rules

### ×›×œ×œ×™ ×’×™×©×” ×œ×¤×¨×•×™×§×˜×™× | Project Access Rules

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ×›×œ×œ 1: Admin ×¨×•××” ××ª ×›×œ ×”×¤×¨×•×™×§×˜×™×                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ×›×œ×œ 2: ×¨×•××” ×—×©×‘×•×Ÿ ×¨×•××” ××ª ×›×œ ×”×¤×¨×•×™×§×˜×™× (×§×¨×™××” ×‘×œ×‘×“)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ×›×œ×œ 3: ×× ×”×œ ×¤×¨×•×™×§×˜ ×¨×•××” ×¨×§ ×¤×¨×•×™×§×˜×™× ×©×”×•× ××©×•×™×š ××œ×™×”×        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ×›×œ×œ 4: ×™×–× ×¨×•××” ×¨×§ ×¤×¨×•×™×§×˜×™× ×©×”×•× ××©×•×™×š ××œ×™×”×                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ×›×œ×œ 5: ×©×™×•×š ×œ×¤×¨×•×™×§×˜ × ×¢×©×” ×¢×œ ×™×“×™ Admin ×‘×œ×‘×“                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ×›×œ×œ×™ ×¢×¨×™×›×” | Edit Rules

1. **Admin** - ×¢×•×¨×š ×”×›×œ ×‘×›×œ ×”×¤×¨×•×™×§×˜×™×
2. **PM ××©×•×™×š** - ×¢×•×¨×š ×¨×§ ×‘×¤×¨×•×™×§×˜×™× ×©×”×•× ××©×•×™×š ××œ×™×”×
3. **×™×–×** - ×œ× ×¢×•×¨×š ×›×œ×•× (×¦×•×¤×” ×‘×œ×‘×“)
4. **×¨×•××” ×—×©×‘×•×Ÿ** - ×œ× ×¢×•×¨×š ×›×œ×•× (×¦×•×¤×” ×‘×œ×‘×“)

### ×›×œ×œ×™ ××—×™×§×” | Delete Rules

| ××©××‘ | ××™ ×™×›×•×œ ×œ××—×•×§ |
|------|---------------|
| ×¤×¨×•×™×§×˜×™× | Admin ×‘×œ×‘×“ |
| ××©×™××•×ª | Admin ×‘×œ×‘×“ |
| ××›×¨×–×™× | Admin ×‘×œ×‘×“ |
| ×§×‘×¦×™× | Admin ×‘×œ×‘×“ |
| ×‘×¢×œ×™ ××§×¦×•×¢ | Admin ×‘×œ×‘×“ |
| ××©×ª××©×™× | Admin ×‘×œ×‘×“ |
| ×©×™× ×•×™×™ ×ª×›× ×•×Ÿ | Admin + PM ××©×•×™×š |
| × ×•×©××™× ××™×•×—×“×™× | Admin + PM ××©×•×™×š |

### ×›×œ×œ×™ ××‘×˜×—×” | Security Rules

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ××©×ª××© ×œ× ×¤×¢×™×œ (is_active=false) ×œ× ×™×›×•×œ ×œ×”×ª×—×‘×¨           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. ×›×œ ×’×™×©×” ×œ× ×ª×•× ×™× ×¢×•×‘×¨×ª ×‘×“×™×§×ª ×”×¨×©××•×ª ×‘×¦×“ ×”×œ×§×•×—             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. RLS (Row Level Security) ××’×Ÿ ×¢×œ ×”× ×ª×•× ×™× ×‘×¦×“ ×”×©×¨×ª         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. Session × ×©××¨ ×‘-localStorage ×¢× auto-refresh              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 5. ×¡×™×¡×××•×ª ××•×¦×¤× ×•×ª ×‘-bcrypt (Supabase Auth)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ××¦×‘ × ×•×›×—×™ | Current Status

### ××” ×§×™×™× âœ…

| ×¨×›×™×‘ | ×§×•×‘×¥ | ×¡×˜×˜×•×¡ |
|------|------|-------|
| ×”×’×“×¨×ª ×¡×•×’×™ ××©×ª××©×™× | `src/types/auth.ts` | âœ… ××œ× |
| Supabase Client | `src/lib/supabase.ts` | âœ… ××œ× |
| Auth Context | `src/contexts/AuthContext.tsx` | âœ… ××œ× |
| Permission Utils | `src/utils/permissions.ts` | âœ… ××œ× (40+ ×¤×•× ×§×¦×™×•×ª) |
| Protected Route | `src/components/Auth/ProtectedRoute.tsx` | âœ… ××œ× |
| Login Page | `src/pages/Auth/LoginPage.tsx` | âœ… ××œ× |
| DB Schema | `SUPABASE_SETUP.md` | âœ… ××œ× |
| RLS Policies | Supabase Dashboard | âœ… ××•×›×Ÿ ×œ×™×™×©×•× |

### ××” ×—×¡×¨ âŒ

| ×¨×›×™×‘ | ×¢×“×™×¤×•×ª | ×§×•×‘×¥ ×™×¢×“ |
|------|--------|----------|
| ×“×£ ××™×¤×•×¡ ×¡×™×¡××” | ğŸ”´ ×’×‘×•×”×” | `src/pages/Auth/ResetPasswordPage.tsx` |
| ×“×£ × ×™×”×•×œ ××©×ª××©×™× | ğŸ”´ ×’×‘×•×”×” | `src/pages/Admin/UsersPage.tsx` |
| ×“×£ ×¤×¨×•×¤×™×œ ××©×ª××© | ğŸŸ¡ ×‘×™× ×•× ×™×ª | `src/pages/Profile/ProfilePage.tsx` |
| ×“×£ ×©×™× ×•×™ ×¡×™×¡××” | ğŸŸ¡ ×‘×™× ×•× ×™×ª | `src/pages/Profile/ChangePasswordPage.tsx` |
| ×™×™×©×•× ×”×¨×©××•×ª ×‘×›×œ ×”×“×¤×™× | ğŸ”´ ×’×‘×•×”×” | ×›×œ ×”×“×¤×™× |
| Session Timeout | ğŸŸ¡ ×‘×™× ×•× ×™×ª | `src/contexts/AuthContext.tsx` |
| Audit Logging | ğŸŸ¢ × ××•×›×” | `src/utils/auditLog.ts` |

### ××—×•×– ×”×©×œ××”

```
Backend (Types, Context, Utils):  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
Database Schema:                  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
Login Flow:                       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
Password Reset:                   â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  20%
User Management:                  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0%
Permissions Integration:          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  40%
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total:                            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  60%
```

---

## 5. ×ª×›× ×™×ª ×™×™×©×•× | Implementation Plan

### ×©×œ×‘ 1: ×“×£ × ×™×”×•×œ ××©×ª××©×™× (Admin Only)

**××˜×¨×”:** ×œ××¤×©×¨ ×œ-Admin ×œ×™×¦×•×¨, ×œ×¢×¨×•×š ×•×œ×”×©×‘×™×ª ××©×ª××©×™×

**×¨×›×™×‘×™×:**
```
src/pages/Admin/
â”œâ”€â”€ UsersPage.tsx           # ×¨×©×™××ª ××©×ª××©×™× ×¢× ×¤×¢×•×œ×•×ª
â”œâ”€â”€ UserForm.tsx            # ×˜×•×¤×¡ ×™×¦×™×¨×”/×¢×¨×™×›×”
â””â”€â”€ UserAssignments.tsx     # ×©×™×•×š ××©×ª××© ×œ×¤×¨×•×™×§×˜×™×
```

**×¤×•× ×§×¦×™×•× ×œ×™×•×ª:**
- [ ] ×˜×‘×œ×ª ××©×ª××©×™× ×¢× ×—×™×¤×•×© ×•×¡×™× ×•×Ÿ
- [ ] ×™×¦×™×¨×ª ××©×ª××© ×—×“×© (email + ×¡×™×¡××” ×–×× ×™×ª)
- [ ] ×¢×¨×™×›×ª ×¤×¨×˜×™ ××©×ª××©
- [ ] ×©×™× ×•×™ ×ª×¤×§×™×“ ××©×ª××©
- [ ] ×”×©×‘×ª×ª/×”×¤×¢×œ×ª ××©×ª××©
- [ ] ×©×™×•×š ××©×ª××© ×œ×¤×¨×•×™×§×˜×™×
- [ ] ××™×¤×•×¡ ×¡×™×¡××” ×œ××©×ª××©

### ×©×œ×‘ 2: ×“×£ ××™×¤×•×¡ ×¡×™×¡××”

**××˜×¨×”:** ×œ××¤×©×¨ ×œ××©×ª××© ×œ××¤×¡ ×¡×™×¡××” ×©× ×©×›×—×”

**×¨×›×™×‘×™×:**
```
src/pages/Auth/
â”œâ”€â”€ ForgotPasswordPage.tsx  # ×”×–× ×ª email ×œ××™×¤×•×¡
â””â”€â”€ ResetPasswordPage.tsx   # ×”×–× ×ª ×¡×™×¡××” ×—×“×©×”
```

**×¤×•× ×§×¦×™×•× ×œ×™×•×ª:**
- [ ] ×˜×•×¤×¡ "×©×›×—×ª×™ ×¡×™×¡××”" ×¢× ×©×“×” email
- [ ] ×©×œ×™×—×ª email ×¢× ×œ×™× ×§ ××™×¤×•×¡
- [ ] ×“×£ ×”×–× ×ª ×¡×™×¡××” ×—×“×©×”
- [ ] ×•×œ×™×“×¦×™×” ×©×œ token ××”-URL
- [ ] ×¢×“×›×•×Ÿ ×¡×™×¡××” ×‘-Supabase

### ×©×œ×‘ 3: ×™×™×©×•× ×”×¨×©××•×ª ×‘×›×œ ×”×“×¤×™×

**××˜×¨×”:** ×œ×”×¡×ª×™×¨/×œ×”×©×‘×™×ª ××œ×× ×˜×™× ×œ×¤×™ ×”×¨×©××•×ª ×”××©×ª××©

**×“×¤×™× ×œ×¢×“×›×•×Ÿ:**
```
ProjectsPage.tsx      - ×”×¡×ª×¨×ª ×›×¤×ª×•×¨ "×¤×¨×•×™×§×˜ ×—×“×©" ×œ×™×–×/×¨×•"×—
ProjectDetail.tsx     - ×”×¡×ª×¨×ª ×›×¤×ª×•×¨×™ ×¢×¨×™×›×” ×œ×™×–×/×¨×•"×—
TasksTab.tsx          - ×”×¡×ª×¨×ª ×™×¦×™×¨×”/×¢×¨×™×›×” ×œ×™×–×/×¨×•"×—
TendersTab.tsx        - ×”×¡×ª×¨×ª ×™×¦×™×¨×”/×¢×¨×™×›×” ×œ×™×–×/×¨×•"×—
BudgetTab.tsx         - ×”×¡×ª×¨×ª ×¢×¨×™×›×” ×œ×™×–×/×¨×•"×—
FilesTab.tsx          - ×”×¡×ª×¨×ª ×”×¢×œ××” ×œ×™×–×/×¨×•"×—
ProfessionalsPage.tsx - ×”×¡×ª×¨×ª ×™×¦×™×¨×”/×¢×¨×™×›×” ×œ×™×–×/×¨×•"×—
```

**×“×¤×•×¡ ×™×™×©×•×:**
```typescript
// ×œ×›×œ ×›×¤×ª×•×¨/×¤×¢×•×œ×” - ×©×™××•×© ×‘-permission utils
import { useAuth } from '@/contexts/AuthContext';
import { canCreateProject, canEditProject } from '@/utils/permissions';

const ProjectsPage = () => {
  const { user } = useAuth();

  return (
    <div>
      {canCreateProject(user) && (
        <button>×¤×¨×•×™×§×˜ ×—×“×©</button>
      )}
    </div>
  );
};
```

### ×©×œ×‘ 4: ×¡×™× ×•×Ÿ ×¤×¨×•×™×§×˜×™× ×œ×¤×™ ×”×¨×©××•×ª

**××˜×¨×”:** ×œ×”×¦×™×’ ×¨×§ ×¤×¨×•×™×§×˜×™× ×©×”××©×ª××© ×¨×©××™ ×œ×¨××•×ª

**×™×™×©×•×:**
```typescript
// src/hooks/useProjects.ts
import { canViewAllProjects, canAccessProject } from '@/utils/permissions';

const useFilteredProjects = () => {
  const { user } = useAuth();
  const allProjects = useProjects();

  if (canViewAllProjects(user)) {
    return allProjects; // Admin / Accountant
  }

  return allProjects.filter(project =>
    canAccessProject(user, project.id)
  );
};
```

### ×©×œ×‘ 5: ×¤×¨×•×¤×™×œ ××©×ª××© ×•×©×™× ×•×™ ×¡×™×¡××”

**××˜×¨×”:** ×œ××¤×©×¨ ×œ××©×ª××© ×œ×¦×¤×•×ª ×‘×¤×¨×˜×™×• ×•×œ×©× ×•×ª ×¡×™×¡××”

**×¨×›×™×‘×™×:**
```
src/pages/Profile/
â”œâ”€â”€ ProfilePage.tsx         # ×¦×¤×™×™×”/×¢×¨×™×›×ª ×¤×¨×˜×™×
â””â”€â”€ ChangePasswordPage.tsx  # ×©×™× ×•×™ ×¡×™×¡××”
```

---

## 6. ××¤×ª ×“×¨×›×™× | Roadmap

### Phase 1: Core Auth Pages ğŸ”´
**×¢×“×™×¤×•×ª: ×’×‘×•×”×”**

| ××©×™××” | ×ª×™××•×¨ | ×§×•×‘×¥ |
|--------|-------|------|
| 1.1 | ×“×£ × ×™×”×•×œ ××©×ª××©×™× (Admin) | `src/pages/Admin/UsersPage.tsx` |
| 1.2 | ×˜×•×¤×¡ ×™×¦×™×¨×ª/×¢×¨×™×›×ª ××©×ª××© | `src/pages/Admin/UserForm.tsx` |
| 1.3 | ×©×™×•×š ××©×ª××©×™× ×œ×¤×¨×•×™×§×˜×™× | `src/pages/Admin/UserAssignments.tsx` |
| 1.4 | ×“×£ ×©×›×—×ª×™ ×¡×™×¡××” | `src/pages/Auth/ForgotPasswordPage.tsx` |
| 1.5 | ×“×£ ××™×¤×•×¡ ×¡×™×¡××” | `src/pages/Auth/ResetPasswordPage.tsx` |

### Phase 2: Permission Enforcement ğŸ”´
**×¢×“×™×¤×•×ª: ×’×‘×•×”×”**

| ××©×™××” | ×ª×™××•×¨ | ×§×•×‘×¥ |
|--------|-------|------|
| 2.1 | ×”×•×¡×¤×ª ×‘×“×™×§×•×ª ×”×¨×©××•×ª - ProjectsPage | `src/pages/Projects/ProjectsPage.tsx` |
| 2.2 | ×”×•×¡×¤×ª ×‘×“×™×§×•×ª ×”×¨×©××•×ª - ProjectDetail | `src/pages/Projects/ProjectDetail.tsx` |
| 2.3 | ×”×•×¡×¤×ª ×‘×“×™×§×•×ª ×”×¨×©××•×ª - Tasks Tab | `src/pages/Projects/tabs/TasksTab.tsx` |
| 2.4 | ×”×•×¡×¤×ª ×‘×“×™×§×•×ª ×”×¨×©××•×ª - Tenders Tab | `src/pages/Projects/tabs/TendersTab.tsx` |
| 2.5 | ×”×•×¡×¤×ª ×‘×“×™×§×•×ª ×”×¨×©××•×ª - Budget Tab | `src/pages/Projects/tabs/BudgetTab.tsx` |
| 2.6 | ×”×•×¡×¤×ª ×‘×“×™×§×•×ª ×”×¨×©××•×ª - Files Tab | `src/pages/Projects/tabs/FilesTab.tsx` |
| 2.7 | ×”×•×¡×¤×ª ×‘×“×™×§×•×ª ×”×¨×©××•×ª - Professionals | `src/pages/Professionals/ProfessionalsPage.tsx` |

### Phase 3: Project Filtering ğŸŸ¡
**×¢×“×™×¤×•×ª: ×‘×™× ×•× ×™×ª**

| ××©×™××” | ×ª×™××•×¨ | ×§×•×‘×¥ |
|--------|-------|------|
| 3.1 | Hook ×œ×¡×™× ×•×Ÿ ×¤×¨×•×™×§×˜×™× | `src/hooks/useFilteredProjects.ts` |
| 3.2 | ×¢×“×›×•×Ÿ Sidebar ×œ×”×¦×’×ª ×¤×¨×•×™×§×˜×™× ××¡×•× × ×™× | `src/components/Layout/Sidebar.tsx` |
| 3.3 | ×¢×“×›×•×Ÿ Dashboard | `src/pages/Dashboard/Dashboard.tsx` |
| 3.4 | ×¢×“×›×•×Ÿ Global Tenders | `src/pages/Tenders/GlobalTendersPage.tsx` |

### Phase 4: User Profile ğŸŸ¡
**×¢×“×™×¤×•×ª: ×‘×™× ×•× ×™×ª**

| ××©×™××” | ×ª×™××•×¨ | ×§×•×‘×¥ |
|--------|-------|------|
| 4.1 | ×“×£ ×¤×¨×•×¤×™×œ | `src/pages/Profile/ProfilePage.tsx` |
| 4.2 | ×“×£ ×©×™× ×•×™ ×¡×™×¡××” | `src/pages/Profile/ChangePasswordPage.tsx` |
| 4.3 | ×œ×™× ×§ ×œ×¤×¨×•×¤×™×œ ×‘-Header | `src/components/Layout/Header.tsx` |

### Phase 5: Security Enhancements ğŸŸ¢
**×¢×“×™×¤×•×ª: × ××•×›×”**

| ××©×™××” | ×ª×™××•×¨ | ×§×•×‘×¥ |
|--------|-------|------|
| 5.1 | Session Timeout | `src/contexts/AuthContext.tsx` |
| 5.2 | Audit Logging | `src/utils/auditLog.ts` |
| 5.3 | Error Logging | `src/utils/errorLog.ts` |
| 5.4 | ×‘×™×˜×•×œ Demo Mode ×‘×¤×¨×•×“×§×©×Ÿ | `src/lib/supabase.ts` |

---

## × ×¡×¤×—: ×§×•×“ ×§×™×™× | Existing Code Reference

### ×¤×•× ×§×¦×™×•×ª ×”×¨×©××•×ª ×–××™× ×•×ª (`src/utils/permissions.ts`)

```typescript
// General
hasPermission(user, permission)
isReadOnly(user)
canAccessProject(user, projectId)
getRoleDisplayName(role)
getAvailableRoles()

// Projects
canViewAllProjects(user)
canEditProject(user, projectId)
canCreateProject(user)
canDeleteProject(user)

// Tasks
canViewTasks(user)
canEditTask(user, projectId)
canCreateTask(user, projectId)
canDeleteTask(user)

// Tenders
canViewTenders(user)
canEditTender(user, projectId)
canCreateTender(user, projectId)
canDeleteTender(user)

// Budget
canViewBudget(user)
canEditBudget(user, projectId)

// Files
canViewFiles(user)
canUploadFile(user, projectId)
canDeleteFile(user)

// Professionals
canViewProfessionals(user)
canEditProfessional(user)
canCreateProfessional(user)
canDeleteProfessional(user)
canRateProfessional(user)

// Planning Changes
canViewPlanningChanges(user)
canEditPlanningChange(user, projectId)
canCreatePlanningChange(user, projectId)
canDeletePlanningChange(user, projectId)

// Special Issues
canViewSpecialIssues(user)
canEditSpecialIssue(user, projectId)
canCreateSpecialIssue(user, projectId)
canDeleteSpecialIssue(user, projectId)

// User Management
canManageUsers(user)
```

---

## ××™×©×•×¨ ×•×”×¢×¨×•×ª | Notes

**×ª××¨×™×š ×™×¦×™×¨×”:** 2026-01-13
**×’×¨×¡×”:** 1.0
**×¡×˜×˜×•×¡:** ×œ××™×©×•×¨

---
